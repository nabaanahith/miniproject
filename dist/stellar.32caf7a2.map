{"version":3,"sources":["js/stellar.js"],"names":["$","window","document","undefined","pluginName","defaults","scrollProperty","positionProperty","horizontalScrolling","verticalScrolling","horizontalOffset","verticalOffset","responsive","parallaxBackgrounds","parallaxElements","hideDistantElements","hideElement","$elem","hide","showElement","show","scroll","getLeft","scrollLeft","setLeft","val","getTop","scrollTop","setTop","position","parseInt","css","margin","transform","computedTransform","getComputedStyle","prefixedTransform","match","left","top","setPosition","startingLeft","startingTop","style","vendorPrefix","prefixes","prefix","prop","test","property","length","charAt","toUpperCase","slice","supportsBackgroundPositionXY","setBackgroundPosition","x","y","getBackgroundPosition","split","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","Plugin","element","options","extend","_defaults","_name","init","prototype","name","Math","floor","random","_defineElements","_defineGetters","_defineSetters","_handleWindowLoadAndResize","_detectViewport","refresh","firstLoad","_handleScrollEvent","_startAnimationLoop","body","$scrollElement","$element","$viewportElement","viewportElement","parent","self","scrollPropertyAdapter","_getScrollLeft","_getScrollTop","positionPropertyAdapter","setScrollLeft","setScrollTop","_setScrollLeft","noop","_setScrollTop","_setPosition","$window","bind","oldLeft","oldTop","_reset","_setOffsets","_findParticles","_findBackgrounds","navigator","userAgent","load","viewportOffsets","offset","hasOffsets","viewportWidth","width","viewportHeight","height","viewportOffsetTop","viewportOffsetLeft","particles","i","data","find","each","$this","positionLeft","positionTop","marginLeft","marginTop","$offsetParent","offsetLeft","offsetTop","parentOffsetLeft","parentOffsetTop","tempParentOffsetLeft","tempParentOffsetTop","parents","push","isFixed","startingPositionLeft","startingPositionTop","startingOffsetLeft","startingOffsetTop","stellarRatio","outerWidth","outerHeight","isHidden","$backgroundElements","backgrounds","add","backgroundPosition","startingValueLeft","startingValueTop","startingBackgroundPositionLeft","isNaN","startingBackgroundPositionTop","particle","background","destroy","unbind","_animationLoop","_repositionElements","fixedRatioOffset","bgLeft","bgTop","isVisibleVertical","isVisibleHorizontal","newPositionLeft","newPositionTop","newOffsetLeft","newOffsetTop","currentScrollLeft","currentScrollTop","currentWidth","currentHeight","ticking","update","requestTick","fn","args","arguments","instance","apply","Array","call","stellar","Stellar","jQuery"],"mappings":"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","file":"stellar.32caf7a2.map","sourceRoot":"..","sourcesContent":["/*!\n * Stellar.js v0.6.2\n * http://markdalgleish.com/projects/stellar.js\n * \n * Copyright 2013, Mark Dalgleish\n * This content is released under the MIT license\n * http://markdalgleish.mit-license.org\n */\n\n;(function($, window, document, undefined) {\n\n\tvar pluginName = 'stellar',\n\t\tdefaults = {\n\t\t\tscrollProperty: 'scroll',\n\t\t\tpositionProperty: 'position',\n\t\t\thorizontalScrolling: true,\n\t\t\tverticalScrolling: true,\n\t\t\thorizontalOffset: 0,\n\t\t\tverticalOffset: 0,\n\t\t\tresponsive: false,\n\t\t\tparallaxBackgrounds: true,\n\t\t\tparallaxElements: true,\n\t\t\thideDistantElements: true,\n\t\t\thideElement: function($elem) { $elem.hide(); },\n\t\t\tshowElement: function($elem) { $elem.show(); }\n\t\t},\n\n\t\tscrollProperty = {\n\t\t\tscroll: {\n\t\t\t\tgetLeft: function($elem) { return $elem.scrollLeft(); },\n\t\t\t\tsetLeft: function($elem, val) { $elem.scrollLeft(val); },\n\n\t\t\t\tgetTop: function($elem) { return $elem.scrollTop();\t},\n\t\t\t\tsetTop: function($elem, val) { $elem.scrollTop(val); }\n\t\t\t},\n\t\t\tposition: {\n\t\t\t\tgetLeft: function($elem) { return parseInt($elem.css('left'), 10) * -1; },\n\t\t\t\tgetTop: function($elem) { return parseInt($elem.css('top'), 10) * -1; }\n\t\t\t},\n\t\t\tmargin: {\n\t\t\t\tgetLeft: function($elem) { return parseInt($elem.css('margin-left'), 10) * -1; },\n\t\t\t\tgetTop: function($elem) { return parseInt($elem.css('margin-top'), 10) * -1; }\n\t\t\t},\n\t\t\ttransform: {\n\t\t\t\tgetLeft: function($elem) {\n\t\t\t\t\tvar computedTransform = getComputedStyle($elem[0])[prefixedTransform];\n\t\t\t\t\treturn (computedTransform !== 'none' ? parseInt(computedTransform.match(/(-?[0-9]+)/g)[4], 10) * -1 : 0);\n\t\t\t\t},\n\t\t\t\tgetTop: function($elem) {\n\t\t\t\t\tvar computedTransform = getComputedStyle($elem[0])[prefixedTransform];\n\t\t\t\t\treturn (computedTransform !== 'none' ? parseInt(computedTransform.match(/(-?[0-9]+)/g)[5], 10) * -1 : 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpositionProperty = {\n\t\t\tposition: {\n\t\t\t\tsetLeft: function($elem, left) { $elem.css('left', left); },\n\t\t\t\tsetTop: function($elem, top) { $elem.css('top', top); }\n\t\t\t},\n\t\t\ttransform: {\n\t\t\t\tsetPosition: function($elem, left, startingLeft, top, startingTop) {\n\t\t\t\t\t$elem[0].style[prefixedTransform] = 'translate3d(' + (left - startingLeft) + 'px, ' + (top - startingTop) + 'px, 0)';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Returns a function which adds a vendor prefix to any CSS property name\n\t\tvendorPrefix = (function() {\n\t\t\tvar prefixes = /^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,\n\t\t\t\tstyle = $('script')[0].style,\n\t\t\t\tprefix = '',\n\t\t\t\tprop;\n\n\t\t\tfor (prop in style) {\n\t\t\t\tif (prefixes.test(prop)) {\n\t\t\t\t\tprefix = prop.match(prefixes)[0];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ('WebkitOpacity' in style) { prefix = 'Webkit'; }\n\t\t\tif ('KhtmlOpacity' in style) { prefix = 'Khtml'; }\n\n\t\t\treturn function(property) {\n\t\t\t\treturn prefix + (prefix.length > 0 ? property.charAt(0).toUpperCase() + property.slice(1) : property);\n\t\t\t};\n\t\t}()),\n\n\t\tprefixedTransform = vendorPrefix('transform'),\n\n\t\tsupportsBackgroundPositionXY = $('<div />', { style: 'background:#fff' }).css('background-position-x') !== undefined,\n\n\t\tsetBackgroundPosition = (supportsBackgroundPositionXY ?\n\t\t\tfunction($elem, x, y) {\n\t\t\t\t$elem.css({\n\t\t\t\t\t'background-position-x': x,\n\t\t\t\t\t'background-position-y': y\n\t\t\t\t});\n\t\t\t} :\n\t\t\tfunction($elem, x, y) {\n\t\t\t\t$elem.css('background-position', x + ' ' + y);\n\t\t\t}\n\t\t),\n\n\t\tgetBackgroundPosition = (supportsBackgroundPositionXY ?\n\t\t\tfunction($elem) {\n\t\t\t\treturn [\n\t\t\t\t\t$elem.css('background-position-x'),\n\t\t\t\t\t$elem.css('background-position-y')\n\t\t\t\t];\n\t\t\t} :\n\t\t\tfunction($elem) {\n\t\t\t\treturn $elem.css('background-position').split(' ');\n\t\t\t}\n\t\t),\n\n\t\trequestAnimFrame = (\n\t\t\twindow.requestAnimationFrame       ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame    ||\n\t\t\twindow.oRequestAnimationFrame      ||\n\t\t\twindow.msRequestAnimationFrame     ||\n\t\t\tfunction(callback) {\n\t\t\t\tsetTimeout(callback, 1000 / 60);\n\t\t\t}\n\t\t);\n\n\tfunction Plugin(element, options) {\n\t\tthis.element = element;\n\t\tthis.options = $.extend({}, defaults, options);\n\n\t\tthis._defaults = defaults;\n\t\tthis._name = pluginName;\n\n\t\tthis.init();\n\t}\n\n\tPlugin.prototype = {\n\t\tinit: function() {\n\t\t\tthis.options.name = pluginName + '_' + Math.floor(Math.random() * 1e9);\n\n\t\t\tthis._defineElements();\n\t\t\tthis._defineGetters();\n\t\t\tthis._defineSetters();\n\t\t\tthis._handleWindowLoadAndResize();\n\t\t\tthis._detectViewport();\n\n\t\t\tthis.refresh({ firstLoad: true });\n\n\t\t\tif (this.options.scrollProperty === 'scroll') {\n\t\t\t\tthis._handleScrollEvent();\n\t\t\t} else {\n\t\t\t\tthis._startAnimationLoop();\n\t\t\t}\n\t\t},\n\t\t_defineElements: function() {\n\t\t\tif (this.element === document.body) this.element = window;\n\t\t\tthis.$scrollElement = $(this.element);\n\t\t\tthis.$element = (this.element === window ? $('body') : this.$scrollElement);\n\t\t\tthis.$viewportElement = (this.options.viewportElement !== undefined ? $(this.options.viewportElement) : (this.$scrollElement[0] === window || this.options.scrollProperty === 'scroll' ? this.$scrollElement : this.$scrollElement.parent()) );\n\t\t},\n\t\t_defineGetters: function() {\n\t\t\tvar self = this,\n\t\t\t\tscrollPropertyAdapter = scrollProperty[self.options.scrollProperty];\n\n\t\t\tthis._getScrollLeft = function() {\n\t\t\t\treturn scrollPropertyAdapter.getLeft(self.$scrollElement);\n\t\t\t};\n\n\t\t\tthis._getScrollTop = function() {\n\t\t\t\treturn scrollPropertyAdapter.getTop(self.$scrollElement);\n\t\t\t};\n\t\t},\n\t\t_defineSetters: function() {\n\t\t\tvar self = this,\n\t\t\t\tscrollPropertyAdapter = scrollProperty[self.options.scrollProperty],\n\t\t\t\tpositionPropertyAdapter = positionProperty[self.options.positionProperty],\n\t\t\t\tsetScrollLeft = scrollPropertyAdapter.setLeft,\n\t\t\t\tsetScrollTop = scrollPropertyAdapter.setTop;\n\n\t\t\tthis._setScrollLeft = (typeof setScrollLeft === 'function' ? function(val) {\n\t\t\t\tsetScrollLeft(self.$scrollElement, val);\n\t\t\t} : $.noop);\n\n\t\t\tthis._setScrollTop = (typeof setScrollTop === 'function' ? function(val) {\n\t\t\t\tsetScrollTop(self.$scrollElement, val);\n\t\t\t} : $.noop);\n\n\t\t\tthis._setPosition = positionPropertyAdapter.setPosition ||\n\t\t\t\tfunction($elem, left, startingLeft, top, startingTop) {\n\t\t\t\t\tif (self.options.horizontalScrolling) {\n\t\t\t\t\t\tpositionPropertyAdapter.setLeft($elem, left, startingLeft);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (self.options.verticalScrolling) {\n\t\t\t\t\t\tpositionPropertyAdapter.setTop($elem, top, startingTop);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\t\t_handleWindowLoadAndResize: function() {\n\t\t\tvar self = this,\n\t\t\t\t$window = $(window);\n\n\t\t\tif (self.options.responsive) {\n\t\t\t\t$window.bind('load.' + this.name, function() {\n\t\t\t\t\tself.refresh();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$window.bind('resize.' + this.name, function() {\n\t\t\t\tself._detectViewport();\n\n\t\t\t\tif (self.options.responsive) {\n\t\t\t\t\tself.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trefresh: function(options) {\n\t\t\tvar self = this,\n\t\t\t\toldLeft = self._getScrollLeft(),\n\t\t\t\toldTop = self._getScrollTop();\n\n\t\t\tif (!options || !options.firstLoad) {\n\t\t\t\tthis._reset();\n\t\t\t}\n\n\t\t\tthis._setScrollLeft(0);\n\t\t\tthis._setScrollTop(0);\n\n\t\t\tthis._setOffsets();\n\t\t\tthis._findParticles();\n\t\t\tthis._findBackgrounds();\n\n\t\t\t// Fix for WebKit background rendering bug\n\t\t\tif (options && options.firstLoad && /WebKit/.test(navigator.userAgent)) {\n\t\t\t\t$(window).load(function() {\n\t\t\t\t\tvar oldLeft = self._getScrollLeft(),\n\t\t\t\t\t\toldTop = self._getScrollTop();\n\n\t\t\t\t\tself._setScrollLeft(oldLeft + 1);\n\t\t\t\t\tself._setScrollTop(oldTop + 1);\n\n\t\t\t\t\tself._setScrollLeft(oldLeft);\n\t\t\t\t\tself._setScrollTop(oldTop);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._setScrollLeft(oldLeft);\n\t\t\tthis._setScrollTop(oldTop);\n\t\t},\n\t\t_detectViewport: function() {\n\t\t\tvar viewportOffsets = this.$viewportElement.offset(),\n\t\t\t\thasOffsets = viewportOffsets !== null && viewportOffsets !== undefined;\n\n\t\t\tthis.viewportWidth = this.$viewportElement.width();\n\t\t\tthis.viewportHeight = this.$viewportElement.height();\n\n\t\t\tthis.viewportOffsetTop = (hasOffsets ? viewportOffsets.top : 0);\n\t\t\tthis.viewportOffsetLeft = (hasOffsets ? viewportOffsets.left : 0);\n\t\t},\n\t\t_findParticles: function() {\n\t\t\tvar self = this,\n\t\t\t\tscrollLeft = this._getScrollLeft(),\n\t\t\t\tscrollTop = this._getScrollTop();\n\n\t\t\tif (this.particles !== undefined) {\n\t\t\t\tfor (var i = this.particles.length - 1; i >= 0; i--) {\n\t\t\t\t\tthis.particles[i].$element.data('stellar-elementIsActive', undefined);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.particles = [];\n\n\t\t\tif (!this.options.parallaxElements) return;\n\n\t\t\tthis.$element.find('[data-stellar-ratio]').each(function(i) {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t\thorizontalOffset,\n\t\t\t\t\tverticalOffset,\n\t\t\t\t\tpositionLeft,\n\t\t\t\t\tpositionTop,\n\t\t\t\t\tmarginLeft,\n\t\t\t\t\tmarginTop,\n\t\t\t\t\t$offsetParent,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\tparentOffsetLeft = 0,\n\t\t\t\t\tparentOffsetTop = 0,\n\t\t\t\t\ttempParentOffsetLeft = 0,\n\t\t\t\t\ttempParentOffsetTop = 0;\n\n\t\t\t\t// Ensure this element isn't already part of another scrolling element\n\t\t\t\tif (!$this.data('stellar-elementIsActive')) {\n\t\t\t\t\t$this.data('stellar-elementIsActive', this);\n\t\t\t\t} else if ($this.data('stellar-elementIsActive') !== this) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself.options.showElement($this);\n\n\t\t\t\t// Save/restore the original top and left CSS values in case we refresh the particles or destroy the instance\n\t\t\t\tif (!$this.data('stellar-startingLeft')) {\n\t\t\t\t\t$this.data('stellar-startingLeft', $this.css('left'));\n\t\t\t\t\t$this.data('stellar-startingTop', $this.css('top'));\n\t\t\t\t} else {\n\t\t\t\t\t$this.css('left', $this.data('stellar-startingLeft'));\n\t\t\t\t\t$this.css('top', $this.data('stellar-startingTop'));\n\t\t\t\t}\n\n\t\t\t\tpositionLeft = $this.position().left;\n\t\t\t\tpositionTop = $this.position().top;\n\n\t\t\t\t// Catch-all for margin top/left properties (these evaluate to 'auto' in IE7 and IE8)\n\t\t\t\tmarginLeft = ($this.css('margin-left') === 'auto') ? 0 : parseInt($this.css('margin-left'), 10);\n\t\t\t\tmarginTop = ($this.css('margin-top') === 'auto') ? 0 : parseInt($this.css('margin-top'), 10);\n\n\t\t\t\toffsetLeft = $this.offset().left - marginLeft;\n\t\t\t\toffsetTop = $this.offset().top - marginTop;\n\n\t\t\t\t// Calculate the offset parent\n\t\t\t\t$this.parents().each(function() {\n\t\t\t\t\tvar $this = $(this);\n\n\t\t\t\t\tif ($this.data('stellar-offset-parent') === true) {\n\t\t\t\t\t\tparentOffsetLeft = tempParentOffsetLeft;\n\t\t\t\t\t\tparentOffsetTop = tempParentOffsetTop;\n\t\t\t\t\t\t$offsetParent = $this;\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempParentOffsetLeft += $this.position().left;\n\t\t\t\t\t\ttempParentOffsetTop += $this.position().top;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Detect the offsets\n\t\t\t\thorizontalOffset = ($this.data('stellar-horizontal-offset') !== undefined ? $this.data('stellar-horizontal-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-horizontal-offset') !== undefined ? $offsetParent.data('stellar-horizontal-offset') : self.horizontalOffset));\n\t\t\t\tverticalOffset = ($this.data('stellar-vertical-offset') !== undefined ? $this.data('stellar-vertical-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-vertical-offset') !== undefined ? $offsetParent.data('stellar-vertical-offset') : self.verticalOffset));\n\n\t\t\t\t// Add our object to the particles collection\n\t\t\t\tself.particles.push({\n\t\t\t\t\t$element: $this,\n\t\t\t\t\t$offsetParent: $offsetParent,\n\t\t\t\t\tisFixed: $this.css('position') === 'fixed',\n\t\t\t\t\thorizontalOffset: horizontalOffset,\n\t\t\t\t\tverticalOffset: verticalOffset,\n\t\t\t\t\tstartingPositionLeft: positionLeft,\n\t\t\t\t\tstartingPositionTop: positionTop,\n\t\t\t\t\tstartingOffsetLeft: offsetLeft,\n\t\t\t\t\tstartingOffsetTop: offsetTop,\n\t\t\t\t\tparentOffsetLeft: parentOffsetLeft,\n\t\t\t\t\tparentOffsetTop: parentOffsetTop,\n\t\t\t\t\tstellarRatio: ($this.data('stellar-ratio') !== undefined ? $this.data('stellar-ratio') : 1),\n\t\t\t\t\twidth: $this.outerWidth(true),\n\t\t\t\t\theight: $this.outerHeight(true),\n\t\t\t\t\tisHidden: false\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t_findBackgrounds: function() {\n\t\t\tvar self = this,\n\t\t\t\tscrollLeft = this._getScrollLeft(),\n\t\t\t\tscrollTop = this._getScrollTop(),\n\t\t\t\t$backgroundElements;\n\n\t\t\tthis.backgrounds = [];\n\n\t\t\tif (!this.options.parallaxBackgrounds) return;\n\n\t\t\t$backgroundElements = this.$element.find('[data-stellar-background-ratio]');\n\n\t\t\tif (this.$element.data('stellar-background-ratio')) {\n                $backgroundElements = $backgroundElements.add(this.$element);\n\t\t\t}\n\n\t\t\t$backgroundElements.each(function() {\n\t\t\t\tvar $this = $(this),\n\t\t\t\t\tbackgroundPosition = getBackgroundPosition($this),\n\t\t\t\t\thorizontalOffset,\n\t\t\t\t\tverticalOffset,\n\t\t\t\t\tpositionLeft,\n\t\t\t\t\tpositionTop,\n\t\t\t\t\tmarginLeft,\n\t\t\t\t\tmarginTop,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\t$offsetParent,\n\t\t\t\t\tparentOffsetLeft = 0,\n\t\t\t\t\tparentOffsetTop = 0,\n\t\t\t\t\ttempParentOffsetLeft = 0,\n\t\t\t\t\ttempParentOffsetTop = 0;\n\n\t\t\t\t// Ensure this element isn't already part of another scrolling element\n\t\t\t\tif (!$this.data('stellar-backgroundIsActive')) {\n\t\t\t\t\t$this.data('stellar-backgroundIsActive', this);\n\t\t\t\t} else if ($this.data('stellar-backgroundIsActive') !== this) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Save/restore the original top and left CSS values in case we destroy the instance\n\t\t\t\tif (!$this.data('stellar-backgroundStartingLeft')) {\n\t\t\t\t\t$this.data('stellar-backgroundStartingLeft', backgroundPosition[0]);\n\t\t\t\t\t$this.data('stellar-backgroundStartingTop', backgroundPosition[1]);\n\t\t\t\t} else {\n\t\t\t\t\tsetBackgroundPosition($this, $this.data('stellar-backgroundStartingLeft'), $this.data('stellar-backgroundStartingTop'));\n\t\t\t\t}\n\n\t\t\t\t// Catch-all for margin top/left properties (these evaluate to 'auto' in IE7 and IE8)\n\t\t\t\tmarginLeft = ($this.css('margin-left') === 'auto') ? 0 : parseInt($this.css('margin-left'), 10);\n\t\t\t\tmarginTop = ($this.css('margin-top') === 'auto') ? 0 : parseInt($this.css('margin-top'), 10);\n\n\t\t\t\toffsetLeft = $this.offset().left - marginLeft - scrollLeft;\n\t\t\t\toffsetTop = $this.offset().top - marginTop - scrollTop;\n\t\t\t\t\n\t\t\t\t// Calculate the offset parent\n\t\t\t\t$this.parents().each(function() {\n\t\t\t\t\tvar $this = $(this);\n\n\t\t\t\t\tif ($this.data('stellar-offset-parent') === true) {\n\t\t\t\t\t\tparentOffsetLeft = tempParentOffsetLeft;\n\t\t\t\t\t\tparentOffsetTop = tempParentOffsetTop;\n\t\t\t\t\t\t$offsetParent = $this;\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempParentOffsetLeft += $this.position().left;\n\t\t\t\t\t\ttempParentOffsetTop += $this.position().top;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Detect the offsets\n\t\t\t\thorizontalOffset = ($this.data('stellar-horizontal-offset') !== undefined ? $this.data('stellar-horizontal-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-horizontal-offset') !== undefined ? $offsetParent.data('stellar-horizontal-offset') : self.horizontalOffset));\n\t\t\t\tverticalOffset = ($this.data('stellar-vertical-offset') !== undefined ? $this.data('stellar-vertical-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-vertical-offset') !== undefined ? $offsetParent.data('stellar-vertical-offset') : self.verticalOffset));\n\n\t\t\t\tself.backgrounds.push({\n\t\t\t\t\t$element: $this,\n\t\t\t\t\t$offsetParent: $offsetParent,\n\t\t\t\t\tisFixed: $this.css('background-attachment') === 'fixed',\n\t\t\t\t\thorizontalOffset: horizontalOffset,\n\t\t\t\t\tverticalOffset: verticalOffset,\n\t\t\t\t\tstartingValueLeft: backgroundPosition[0],\n\t\t\t\t\tstartingValueTop: backgroundPosition[1],\n\t\t\t\t\tstartingBackgroundPositionLeft: (isNaN(parseInt(backgroundPosition[0], 10)) ? 0 : parseInt(backgroundPosition[0], 10)),\n\t\t\t\t\tstartingBackgroundPositionTop: (isNaN(parseInt(backgroundPosition[1], 10)) ? 0 : parseInt(backgroundPosition[1], 10)),\n\t\t\t\t\tstartingPositionLeft: $this.position().left,\n\t\t\t\t\tstartingPositionTop: $this.position().top,\n\t\t\t\t\tstartingOffsetLeft: offsetLeft,\n\t\t\t\t\tstartingOffsetTop: offsetTop,\n\t\t\t\t\tparentOffsetLeft: parentOffsetLeft,\n\t\t\t\t\tparentOffsetTop: parentOffsetTop,\n\t\t\t\t\tstellarRatio: ($this.data('stellar-background-ratio') === undefined ? 1 : $this.data('stellar-background-ratio'))\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t_reset: function() {\n\t\t\tvar particle,\n\t\t\t\tstartingPositionLeft,\n\t\t\t\tstartingPositionTop,\n\t\t\t\tbackground,\n\t\t\t\ti;\n\n\t\t\tfor (i = this.particles.length - 1; i >= 0; i--) {\n\t\t\t\tparticle = this.particles[i];\n\t\t\t\tstartingPositionLeft = particle.$element.data('stellar-startingLeft');\n\t\t\t\tstartingPositionTop = particle.$element.data('stellar-startingTop');\n\n\t\t\t\tthis._setPosition(particle.$element, startingPositionLeft, startingPositionLeft, startingPositionTop, startingPositionTop);\n\n\t\t\t\tthis.options.showElement(particle.$element);\n\n\t\t\t\tparticle.$element.data('stellar-startingLeft', null).data('stellar-elementIsActive', null).data('stellar-backgroundIsActive', null);\n\t\t\t}\n\n\t\t\tfor (i = this.backgrounds.length - 1; i >= 0; i--) {\n\t\t\t\tbackground = this.backgrounds[i];\n\n\t\t\t\tbackground.$element.data('stellar-backgroundStartingLeft', null).data('stellar-backgroundStartingTop', null);\n\n\t\t\t\tsetBackgroundPosition(background.$element, background.startingValueLeft, background.startingValueTop);\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._reset();\n\n\t\t\tthis.$scrollElement.unbind('resize.' + this.name).unbind('scroll.' + this.name);\n\t\t\tthis._animationLoop = $.noop;\n\n\t\t\t$(window).unbind('load.' + this.name).unbind('resize.' + this.name);\n\t\t},\n\t\t_setOffsets: function() {\n\t\t\tvar self = this,\n\t\t\t\t$window = $(window);\n\n\t\t\t$window.unbind('resize.horizontal-' + this.name).unbind('resize.vertical-' + this.name);\n\n\t\t\tif (typeof this.options.horizontalOffset === 'function') {\n\t\t\t\tthis.horizontalOffset = this.options.horizontalOffset();\n\t\t\t\t$window.bind('resize.horizontal-' + this.name, function() {\n\t\t\t\t\tself.horizontalOffset = self.options.horizontalOffset();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.horizontalOffset = this.options.horizontalOffset;\n\t\t\t}\n\n\t\t\tif (typeof this.options.verticalOffset === 'function') {\n\t\t\t\tthis.verticalOffset = this.options.verticalOffset();\n\t\t\t\t$window.bind('resize.vertical-' + this.name, function() {\n\t\t\t\t\tself.verticalOffset = self.options.verticalOffset();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.verticalOffset = this.options.verticalOffset;\n\t\t\t}\n\t\t},\n\t\t_repositionElements: function() {\n\t\t\tvar scrollLeft = this._getScrollLeft(),\n\t\t\t\tscrollTop = this._getScrollTop(),\n\t\t\t\thorizontalOffset,\n\t\t\t\tverticalOffset,\n\t\t\t\tparticle,\n\t\t\t\tfixedRatioOffset,\n\t\t\t\tbackground,\n\t\t\t\tbgLeft,\n\t\t\t\tbgTop,\n\t\t\t\tisVisibleVertical = true,\n\t\t\t\tisVisibleHorizontal = true,\n\t\t\t\tnewPositionLeft,\n\t\t\t\tnewPositionTop,\n\t\t\t\tnewOffsetLeft,\n\t\t\t\tnewOffsetTop,\n\t\t\t\ti;\n\n\t\t\t// First check that the scroll position or container size has changed\n\t\t\tif (this.currentScrollLeft === scrollLeft && this.currentScrollTop === scrollTop && this.currentWidth === this.viewportWidth && this.currentHeight === this.viewportHeight) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.currentScrollLeft = scrollLeft;\n\t\t\t\tthis.currentScrollTop = scrollTop;\n\t\t\t\tthis.currentWidth = this.viewportWidth;\n\t\t\t\tthis.currentHeight = this.viewportHeight;\n\t\t\t}\n\n\t\t\t// Reposition elements\n\t\t\tfor (i = this.particles.length - 1; i >= 0; i--) {\n\t\t\t\tparticle = this.particles[i];\n\n\t\t\t\tfixedRatioOffset = (particle.isFixed ? 1 : 0);\n\n\t\t\t\t// Calculate position, then calculate what the particle's new offset will be (for visibility check)\n\t\t\t\tif (this.options.horizontalScrolling) {\n\t\t\t\t\tnewPositionLeft = (scrollLeft + particle.horizontalOffset + this.viewportOffsetLeft + particle.startingPositionLeft - particle.startingOffsetLeft + particle.parentOffsetLeft) * -(particle.stellarRatio + fixedRatioOffset - 1) + particle.startingPositionLeft;\n\t\t\t\t\tnewOffsetLeft = newPositionLeft - particle.startingPositionLeft + particle.startingOffsetLeft;\n\t\t\t\t} else {\n\t\t\t\t\tnewPositionLeft = particle.startingPositionLeft;\n\t\t\t\t\tnewOffsetLeft = particle.startingOffsetLeft;\n\t\t\t\t}\n\n\t\t\t\tif (this.options.verticalScrolling) {\n\t\t\t\t\tnewPositionTop = (scrollTop + particle.verticalOffset + this.viewportOffsetTop + particle.startingPositionTop - particle.startingOffsetTop + particle.parentOffsetTop) * -(particle.stellarRatio + fixedRatioOffset - 1) + particle.startingPositionTop;\n\t\t\t\t\tnewOffsetTop = newPositionTop - particle.startingPositionTop + particle.startingOffsetTop;\n\t\t\t\t} else {\n\t\t\t\t\tnewPositionTop = particle.startingPositionTop;\n\t\t\t\t\tnewOffsetTop = particle.startingOffsetTop;\n\t\t\t\t}\n\n\t\t\t\t// Check visibility\n\t\t\t\tif (this.options.hideDistantElements) {\n\t\t\t\t\tisVisibleHorizontal = !this.options.horizontalScrolling || newOffsetLeft + particle.width > (particle.isFixed ? 0 : scrollLeft) && newOffsetLeft < (particle.isFixed ? 0 : scrollLeft) + this.viewportWidth + this.viewportOffsetLeft;\n\t\t\t\t\tisVisibleVertical = !this.options.verticalScrolling || newOffsetTop + particle.height > (particle.isFixed ? 0 : scrollTop) && newOffsetTop < (particle.isFixed ? 0 : scrollTop) + this.viewportHeight + this.viewportOffsetTop;\n\t\t\t\t}\n\n\t\t\t\tif (isVisibleHorizontal && isVisibleVertical) {\n\t\t\t\t\tif (particle.isHidden) {\n\t\t\t\t\t\tthis.options.showElement(particle.$element);\n\t\t\t\t\t\tparticle.isHidden = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._setPosition(particle.$element, newPositionLeft, particle.startingPositionLeft, newPositionTop, particle.startingPositionTop);\n\t\t\t\t} else {\n\t\t\t\t\tif (!particle.isHidden) {\n\t\t\t\t\t\tthis.options.hideElement(particle.$element);\n\t\t\t\t\t\tparticle.isHidden = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Reposition backgrounds\n\t\t\tfor (i = this.backgrounds.length - 1; i >= 0; i--) {\n\t\t\t\tbackground = this.backgrounds[i];\n\n\t\t\t\tfixedRatioOffset = (background.isFixed ? 0 : 1);\n\t\t\t\tbgLeft = (this.options.horizontalScrolling ? (scrollLeft + background.horizontalOffset - this.viewportOffsetLeft - background.startingOffsetLeft + background.parentOffsetLeft - background.startingBackgroundPositionLeft) * (fixedRatioOffset - background.stellarRatio) + 'px' : background.startingValueLeft);\n\t\t\t\tbgTop = (this.options.verticalScrolling ? (scrollTop + background.verticalOffset - this.viewportOffsetTop - background.startingOffsetTop + background.parentOffsetTop - background.startingBackgroundPositionTop) * (fixedRatioOffset - background.stellarRatio) + 'px' : background.startingValueTop);\n\n\t\t\t\tsetBackgroundPosition(background.$element, bgLeft, bgTop);\n\t\t\t}\n\t\t},\n\t\t_handleScrollEvent: function() {\n\t\t\tvar self = this,\n\t\t\t\tticking = false;\n\n\t\t\tvar update = function() {\n\t\t\t\tself._repositionElements();\n\t\t\t\tticking = false;\n\t\t\t};\n\n\t\t\tvar requestTick = function() {\n\t\t\t\tif (!ticking) {\n\t\t\t\t\trequestAnimFrame(update);\n\t\t\t\t\tticking = true;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tthis.$scrollElement.bind('scroll.' + this.name, requestTick);\n\t\t\trequestTick();\n\t\t},\n\t\t_startAnimationLoop: function() {\n\t\t\tvar self = this;\n\n\t\t\tthis._animationLoop = function() {\n\t\t\t\trequestAnimFrame(self._animationLoop);\n\t\t\t\tself._repositionElements();\n\t\t\t};\n\t\t\tthis._animationLoop();\n\t\t}\n\t};\n\n\t$.fn[pluginName] = function (options) {\n\t\tvar args = arguments;\n\t\tif (options === undefined || typeof options === 'object') {\n\t\t\treturn this.each(function () {\n\t\t\t\tif (!$.data(this, 'plugin_' + pluginName)) {\n\t\t\t\t\t$.data(this, 'plugin_' + pluginName, new Plugin(this, options));\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (typeof options === 'string' && options[0] !== '_' && options !== 'init') {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar instance = $.data(this, 'plugin_' + pluginName);\n\t\t\t\tif (instance instanceof Plugin && typeof instance[options] === 'function') {\n\t\t\t\t\tinstance[options].apply(instance, Array.prototype.slice.call(args, 1));\n\t\t\t\t}\n\t\t\t\tif (options === 'destroy') {\n\t\t\t\t\t$.data(this, 'plugin_' + pluginName, null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t$[pluginName] = function(options) {\n\t\tvar $window = $(window);\n\t\treturn $window.stellar.apply($window, Array.prototype.slice.call(arguments, 0));\n\t};\n\n\t// Expose the scroll and position property function hashes so they can be extended\n\t$[pluginName].scrollProperty = scrollProperty;\n\t$[pluginName].positionProperty = positionProperty;\n\n\t// Expose the plugin class so it can be modified\n\twindow.Stellar = Plugin;\n}(jQuery, this, document));"]}